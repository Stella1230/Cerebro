return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override MST[NonVoidMethodCallMutator]MSP[] public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override public void setTransmitTime ( final TimeStamp ts ) {
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + MST[NonVoidMethodCallMutator]MSP[] lr_7 + getPrecision () + lr_8 + getRootDelay () +
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI4Mutator]MSP[] {
ul ( buf [ index + 2 ] ) << 40 | MST[rv.CRCR1Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override MST[NonVoidMethodCallMutator]MSP[] public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public void setReceiveTimeStamp ( final TimeStamp ts ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[NonVoidMethodCallMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.ABSMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) { final int i = ui ( buf [ index ] ) << 24 | MST[NonVoidMethodCallMutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR5Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.ABSMutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR5Mutator]MSP[] {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[experimental.NakedReceiverMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.ABSMutator]MSP[]
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.ROR3Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.ROR1Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.CRCR3Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override MST[ConditionalsBoundaryMutator]MSP[] public void setDatagramPacket ( final DatagramPacket srcDp ) {
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public int getPoll () { return buf [ POLL_INDEX ] ; } @Override
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.UOI2Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.AOR4Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + MST[experimental.NakedReceiverMutator]MSP[] lr_7 + getPrecision () + lr_8 + getRootDelay () +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.AOD2Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI1Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
if ( stratum >= 2 ) { MST[rv.UOI4Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override MST[RemoveConditionalMutator_ORDER_ELSE]MSP[] public void setDatagramPacket ( final DatagramPacket srcDp ) {
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[rv.ROR2Mutator]MSP[] {
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public TimeStamp getReferenceTimeStamp () {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) MST[rv.UOI3Mutator]MSP[] {
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public void setTransmitTime ( final TimeStamp ts ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR5Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
if ( stratum >= 2 ) { MST[rv.ROR1Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR5Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override MST[PrimitiveReturnsMutator]MSP[] public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
ul ( buf [ index + 2 ] ) << 40 | MST[rv.AOR2Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[InlineConstantMutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI2Mutator]MSP[] {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI2Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[RemoveConditionalMutator_EQUAL_ELSE]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[InlineConstantMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) MST[NonVoidMethodCallMutator]MSP[] { if ( this == obj ) { return true ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.UOI2Mutator]MSP[]
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR6Mutator]MSP[] {
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.OBBN2Mutator]MSP[] public void setMode ( final int mode ) {
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) MST[rv.CRCR3Mutator]MSP[] {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[InlineConstantMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
if ( stratum >= 2 ) { MST[ReturnValsMutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
final long i = b & 0xFF ; return i ; } @Override MST[NonVoidMethodCallMutator]MSP[] public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR5Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.CRCR4Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
ul ( buf [ index + 2 ] ) << 40 | MST[MathMutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[InlineConstantMutator]MSP[]
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.UOI4Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.CRCR1Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override MST[RemoveConditionalMutator_EQUAL_ELSE]MSP[] public void setDatagramPacket ( final DatagramPacket srcDp ) {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[rv.CRCR5Mutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.UOI3Mutator]MSP[]
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.CRCR6Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + MST[NonVoidMethodCallMutator]MSP[] ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.UOI1Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR3Mutator]MSP[]
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.CRCR3Mutator]MSP[] {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[MathMutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.CRCR5Mutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.CRCR1Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR5Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.OBBN2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.AOR2Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.OBBN2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.UOI3Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.UOI1Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
ul ( buf [ index + 2 ] ) << 40 | MST[rv.OBBN1Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI3Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR4Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI3Mutator]MSP[] {
@Override MST[MathMutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override MST[NullReturnValsMutator]MSP[] public TimeStamp getReferenceTimeStamp () {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.AOR4Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) MST[rv.ROR5Mutator]MSP[] { if ( this == obj ) { return true ; }
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR4Mutator]MSP[]
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.ABSMutator]MSP[]
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR1Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[InlineConstantMutator]MSP[] public void setMode ( final int mode ) {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.AOD2Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) MST[rv.CRCR6Mutator]MSP[] {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR2Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[InlineConstantMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.ABSMutator]MSP[] {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.AOD2Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + MST[experimental.NakedReceiverMutator]MSP[] lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOD1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
public void setStratum ( final int stratum ) MST[InlineConstantMutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[InlineConstantMutator]MSP[] { final StringBuilder id = new StringBuilder () ;
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[rv.UOI3Mutator]MSP[] {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.ABSMutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.AOD1Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.ROR2Mutator]MSP[] {
ul ( buf [ index + 2 ] ) << 40 | MST[rv.CRCR4Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR1Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override MST[InlineConstantMutator]MSP[] public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.CRCR1Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override MST[NegateConditionalsMutator]MSP[] public void setDatagramPacket ( final DatagramPacket srcDp ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR1Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
@Override MST[rv.CRCR5Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOR2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.AOR4Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) { final int i = ui ( buf [ index ] ) << 24 | MST[MathMutator]MSP[]
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override MST[rv.ABSMutator]MSP[] public void setRootDispersion ( final int dispersion ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOR3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR6Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[rv.ABSMutator]MSP[]
@Override MST[rv.UOI2Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[NonVoidMethodCallMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR6Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[MathMutator]MSP[]
final long i = b & 0xFF ; return i ; } @Override MST[experimental.NakedReceiverMutator]MSP[] public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | MST[NonVoidMethodCallMutator]MSP[] ul ( buf [ index + 5 ] ) << 16 |
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.CRCR4Mutator]MSP[]
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override MST[BooleanFalseReturnValsMutator]MSP[] public boolean equals ( final Object obj ) { if ( this == obj ) { return true ; }
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR4Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.AOR3Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () { final StringBuilder id = new StringBuilder () ; MST[NegateConditionalsMutator]MSP[]
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public TimeStamp getReferenceTimeStamp () {
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override MST[rv.UOI2Mutator]MSP[] public int getPoll () { return buf [ POLL_INDEX ] ; } @Override
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.CRCR6Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.UOI4Mutator]MSP[] public void setMode ( final int mode ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.ABSMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR6Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.UOI3Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI2Mutator]MSP[] {
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.CRCR3Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) MST[NegateConditionalsMutator]MSP[] { if ( this == obj ) { return true ; }
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.ROR3Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
ul ( buf [ index + 2 ] ) << 40 | MST[rv.CRCR2Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.UOI2Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
@Override MST[rv.CRCR3Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.UOI4Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[MathMutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.CRCR6Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[ReturnValsMutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + MST[NonVoidMethodCallMutator]MSP[] lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.ROR2Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[rv.CRCR5Mutator]MSP[]
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[MathMutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.OBBN1Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public boolean equals ( final Object obj ) { if ( this == obj ) { return true ; }
if ( obj == null || getClass () != obj . getClass () ) { MST[NonVoidMethodCallMutator]MSP[] return false ; } final NtpV3Impl other = ( NtpV3Impl ) obj ; return java . util . Arrays . equals ( buf , other . buf ) ; } @Override public int hashCode ()
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.CRCR4Mutator]MSP[]
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[InlineConstantMutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[MathMutator]MSP[] {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.UOI3Mutator]MSP[] {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.UOI4Mutator]MSP[] {
buf [ VERSION_INDEX ] = (byte) ( buf [ VERSION_INDEX ] & 0xC7 | ( ( version & 0x7 ) << VERSION_SHIFT ) ) ; } @Override public int getStratum () MST[InlineConstantMutator]MSP[] { return ui ( buf [ STRATUM_INDEX ] ) ; } @Override
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[RemoveConditionalMutator_ORDER_IF]MSP[] { final StringBuilder id = new StringBuilder () ;
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override public void setTransmitTime ( final TimeStamp ts ) {
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + MST[NonVoidMethodCallMutator]MSP[] lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.UOI1Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
public void setStratum ( final int stratum ) MST[rv.CRCR2Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR3Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[InlineConstantMutator]MSP[]
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR1Mutator]MSP[] {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[MathMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[NegateConditionalsMutator]MSP[]
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public void setMode ( final int mode ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.UOI2Mutator]MSP[]
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public int getPoll () { return buf [ POLL_INDEX ] ; } @Override
if ( stratum >= 2 ) { MST[rv.CRCR6Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override MST[InlineConstantMutator]MSP[] public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.AOR1Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[MathMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
} @Override public synchronized DatagramPacket getDatagramPacket () MST[rv.CRCR2Mutator]MSP[] { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () MST[rv.CRCR5Mutator]MSP[] { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public void setTransmitTime ( final TimeStamp ts ) {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI4Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public void setMode ( final int mode ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR5Mutator]MSP[]
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.AOD1Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[RemoveConditionalMutator_ORDER_ELSE]MSP[] {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.AOR1Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.UOI3Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.CRCR5Mutator]MSP[] {
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[ConditionalsBoundaryMutator]MSP[] {
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.UOI2Mutator]MSP[] public void setMode ( final int mode ) {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | MST[rv.OBBN1Mutator]MSP[] ul ( buf [ index + 5 ] ) << 16 |
buf [ VERSION_INDEX ] = (byte) ( buf [ VERSION_INDEX ] & 0xC7 | ( ( version & 0x7 ) << VERSION_SHIFT ) ) ; } @Override public int getStratum () MST[rv.CRCR4Mutator]MSP[] { return ui ( buf [ STRATUM_INDEX ] ) ; } @Override
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI1Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.UOI3Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + MST[experimental.NakedReceiverMutator]MSP[] lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOR2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[MathMutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.UOI1Mutator]MSP[] public void setMode ( final int mode ) {
buf [ VERSION_INDEX ] = (byte) ( buf [ VERSION_INDEX ] & 0xC7 | ( ( version & 0x7 ) << VERSION_SHIFT ) ) ; } @Override public int getStratum () MST[rv.UOI4Mutator]MSP[] { return ui ( buf [ STRATUM_INDEX ] ) ; } @Override
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.OBBN3Mutator]MSP[] {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override MST[NullReturnValsMutator]MSP[] public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.CRCR2Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public void setRootDispersion ( final int dispersion ) {
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.CRCR6Mutator]MSP[]
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[InlineConstantMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR3Mutator]MSP[]
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR5Mutator]MSP[] {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR4Mutator]MSP[] {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.OBBN1Mutator]MSP[]
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.CRCR4Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
ul ( buf [ index + 2 ] ) << 40 | MST[rv.UOI3Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
for ( int i = 3 ; i >= 0 ; i -- ) { buf [ idx + i ] = (byte) ( value & 0xff ) ; value >>>= 8 ; } } private TimeStamp getTimestamp ( final int index ) MST[rv.UOI1Mutator]MSP[] {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.OBBN2Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.UOI1Mutator]MSP[]
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.UOI2Mutator]MSP[]
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 | MST[rv.UOI4Mutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.CRCR4Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR1Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR3Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.AOR3Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) { if ( this == obj ) { MST[rv.CRCR6Mutator]MSP[] return true ; }
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.AOR3Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.OBBN2Mutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | MST[rv.UOI2Mutator]MSP[] ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) {
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public void setMode ( final int mode ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override MST[InlineConstantMutator]MSP[] public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.OBBN3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.UOI3Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) { if ( this == obj ) { MST[BooleanTrueReturnValsMutator]MSP[] return true ; }
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override MST[InlineConstantMutator]MSP[] public void setReceiveTimeStamp ( final TimeStamp ts ) {
buf [ VERSION_INDEX ] = (byte) ( buf [ VERSION_INDEX ] & 0xC7 | ( ( version & 0x7 ) << VERSION_SHIFT ) ) ; } @Override public int getStratum () MST[ReturnValsMutator]MSP[] { return ui ( buf [ STRATUM_INDEX ] ) ; } @Override
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR6Mutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[MathMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; MST[NullReturnValsMutator]MSP[] dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) { if ( this == obj ) { MST[rv.CRCR3Mutator]MSP[] return true ; }
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override MST[RemoveConditionalMutator_EQUAL_IF]MSP[] public void setDatagramPacket ( final DatagramPacket srcDp ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.UOI4Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.OBBN3Mutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR6Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + MST[NonVoidMethodCallMutator]MSP[] lr_7 + getPrecision () + lr_8 + getRootDelay () +
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR1Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override MST[InlineConstantMutator]MSP[] public boolean equals ( final Object obj ) { if ( this == obj ) { return true ; }
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.OBBN1Mutator]MSP[] {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () { final StringBuilder id = new StringBuilder () ; MST[rv.ROR2Mutator]MSP[]
buf [ VERSION_INDEX ] = (byte) ( buf [ VERSION_INDEX ] & 0xC7 | ( ( version & 0x7 ) << VERSION_SHIFT ) ) ; } @Override public int getStratum () MST[rv.UOI1Mutator]MSP[] { return ui ( buf [ STRATUM_INDEX ] ) ; } @Override
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.AOR1Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR3Mutator]MSP[] {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.ROR5Mutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[MathMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.ROR3Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ul ( buf [ index + 2 ] ) << 40 | MST[rv.ABSMutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
for ( int i = 0 ; i <= 3 ; i ++ ) { final char c = ( char ) buf [ REFERENCE_ID_INDEX + i ] ; if ( c == 0 ) { MST[experimental.NakedReceiverMutator]MSP[] break; } id . append ( c ) ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.AOD1Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () MST[NonVoidMethodCallMutator]MSP[] { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[rv.ROR5Mutator]MSP[] {
if ( stratum >= 2 ) { MST[NonVoidMethodCallMutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI1Mutator]MSP[] {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.ABSMutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
@Override MST[rv.CRCR1Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.UOI4Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.OBBN3Mutator]MSP[] public void setMode ( final int mode ) {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.CRCR2Mutator]MSP[] {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR5Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[InlineConstantMutator]MSP[] {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.CRCR1Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
@Override MST[rv.UOI1Mutator]MSP[] public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
@Override MST[rv.UOI3Mutator]MSP[] public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[ReturnValsMutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () { final StringBuilder id = new StringBuilder () ; MST[rv.ROR5Mutator]MSP[]
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[experimental.NakedReceiverMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR5Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOD1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.CRCR3Mutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR5Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( stratum >= 2 ) { MST[EmptyObjectReturnValsMutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.UOI2Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
@Override MST[rv.CRCR3Mutator]MSP[] public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOD2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.CRCR1Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR4Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR5Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.AOR2Mutator]MSP[]
for ( int i = 3 ; i >= 0 ; i -- ) { buf [ idx + i ] = (byte) ( value & 0xff ) ; value >>>= 8 ; } } private TimeStamp getTimestamp ( final int index ) MST[rv.UOI4Mutator]MSP[] {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.ABSMutator]MSP[]
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.CRCR1Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR1Mutator]MSP[]
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[RemoveConditionalMutator_ORDER_IF]MSP[] {
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.OBBN2Mutator]MSP[] public void setMode ( final int mode ) {
if ( stratum >= 2 ) { MST[ConditionalsBoundaryMutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.UOI2Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.ROR2Mutator]MSP[]
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.UOI3Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[NonVoidMethodCallMutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[MathMutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[MathMutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[ConstructorCallMutator]MSP[] {
if ( stratum >= 2 ) { MST[rv.UOI1Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[ReturnValsMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
for ( int i = 0 ; i <= 3 ; i ++ ) { final char c = ( char ) buf [ REFERENCE_ID_INDEX + i ] ; if ( c == 0 ) { MST[NonVoidMethodCallMutator]MSP[] break; } id . append ( c ) ; }
@Override MST[rv.ABSMutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.UOI1Mutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.OBBN1Mutator]MSP[]
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[MathMutator]MSP[] {
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.CRCR5Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.CRCR6Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[rv.ROR4Mutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[rv.CRCR2Mutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + MST[NonVoidMethodCallMutator]MSP[] lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
ul ( buf [ index + 6 ] ) << 8 | ul ( buf [ index + 7 ] ) ; return i ; } private void setTimestamp ( final int index , final TimeStamp t ) MST[RemoveConditionalMutator_EQUAL_IF]MSP[] {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[InlineConstantMutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
ul ( buf [ index + 2 ] ) << 40 | MST[rv.CRCR5Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.UOI1Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR3Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override MST[EmptyObjectReturnValsMutator]MSP[] public String getType () { return lr_2 ; } private int getInt ( final int index ) { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.UOI3Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () MST[rv.CRCR5Mutator]MSP[] { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
} @Override public synchronized DatagramPacket getDatagramPacket () MST[rv.CRCR5Mutator]MSP[] { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
public void setStratum ( final int stratum ) MST[rv.UOI3Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
ul ( buf [ index + 2 ] ) << 40 | MST[rv.UOI1Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () MST[rv.CRCR2Mutator]MSP[] { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.AOR3Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
@Override MST[InlineConstantMutator]MSP[] public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[rv.UOI1Mutator]MSP[]
if ( stratum >= 2 ) { MST[NegateConditionalsMutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[MathMutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[InlineConstantMutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.CRCR1Mutator]MSP[]
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[InlineConstantMutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + MST[NonVoidMethodCallMutator]MSP[] lr_7 + getPrecision () + lr_8 + getRootDelay () +
if ( stratum >= 2 ) { MST[RemoveConditionalMutator_ORDER_ELSE]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.CRCR4Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
public void setStratum ( final int stratum ) MST[rv.CRCR5Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[NegateConditionalsMutator]MSP[] {
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.ABSMutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[NegateConditionalsMutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override MST[PrimitiveReturnsMutator]MSP[] public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.ABSMutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.UOI2Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.CRCR1Mutator]MSP[]
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () { final StringBuilder id = new StringBuilder () ; MST[rv.UOI4Mutator]MSP[]
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[IncrementsMutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.UOI4Mutator]MSP[]
if ( stratum >= 2 ) { MST[rv.CRCR3Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override MST[rv.ROR1Mutator]MSP[] public void setDatagramPacket ( final DatagramPacket srcDp ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR6Mutator]MSP[]
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOR3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR2Mutator]MSP[] {
@Override MST[rv.CRCR6Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
@Override MST[rv.CRCR5Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI4Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR4Mutator]MSP[] {
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; dp . setAddress ( srcDp . getAddress () ) ; MST[VoidMethodCallMutator]MSP[] final int port = srcDp . getPort () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOR4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 | MST[rv.UOI2Mutator]MSP[]
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) { final int i = ui ( buf [ index ] ) << 24 | MST[rv.OBBN1Mutator]MSP[]
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.OBBN2Mutator]MSP[] {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.AOD1Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
} @Override MST[rv.ROR5Mutator]MSP[] public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.CRCR4Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[rv.UOI4Mutator]MSP[] {
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public void setReceiveTimeStamp ( final TimeStamp ts ) {
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + MST[NonVoidMethodCallMutator]MSP[] lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
} @Override MST[RemoveConditionalMutator_EQUAL_IF]MSP[] public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
@Override MST[rv.CRCR4Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.OBBN2Mutator]MSP[] public void setMode ( final int mode ) {
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override MST[NullReturnValsMutator]MSP[] public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.ROR3Mutator]MSP[] {
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public void setMode ( final int mode ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.ROR5Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.ABSMutator]MSP[] {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR1Mutator]MSP[] {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.AOD1Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override MST[InlineConstantMutator]MSP[] public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[InlineConstantMutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOR1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI3Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override MST[ReturnValsMutator]MSP[] public int getPoll () { return buf [ POLL_INDEX ] ; } @Override
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) MST[RemoveConditionalMutator_EQUAL_IF]MSP[] { if ( this == obj ) { return true ; }
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.ABSMutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOR3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) MST[NegateConditionalsMutator]MSP[] { if ( this == obj ) { return true ; }
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOD2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR6Mutator]MSP[]
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) MST[rv.ROR5Mutator]MSP[] { if ( this == obj ) { return true ; }
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override MST[NonVoidMethodCallMutator]MSP[] public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
if ( stratum >= 2 ) { MST[EmptyObjectReturnValsMutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.ABSMutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () { final StringBuilder id = new StringBuilder () ; MST[rv.UOI3Mutator]MSP[]
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR1Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
for ( int i = 3 ; i >= 0 ; i -- ) { buf [ idx + i ] = (byte) ( value & 0xff ) ; value >>>= 8 ; } } private TimeStamp getTimestamp ( final int index ) MST[ConstructorCallMutator]MSP[] {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[InlineConstantMutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI2Mutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR6Mutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
len = buf . length ; MST[NonVoidMethodCallMutator]MSP[] } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () { final StringBuilder id = new StringBuilder () ; MST[rv.ROR4Mutator]MSP[]
} @Override public synchronized DatagramPacket getDatagramPacket () MST[rv.CRCR4Mutator]MSP[] { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.AOR3Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.CRCR6Mutator]MSP[]
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public boolean equals ( final Object obj ) { if ( this == obj ) { return true ; }
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[NonVoidMethodCallMutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.CRCR3Mutator]MSP[]
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[RemoveConditionalMutator_EQUAL_IF]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[EmptyObjectReturnValsMutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
if ( stratum >= 2 ) { MST[rv.ROR5Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.CRCR2Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 | MST[rv.ABSMutator]MSP[]
} @Override public synchronized DatagramPacket getDatagramPacket () MST[VoidMethodCallMutator]MSP[] { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[InlineConstantMutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.UOI3Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[RemoveConditionalMutator_ORDER_IF]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.ROR5Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) MST[InlineConstantMutator]MSP[] {
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override MST[VoidMethodCallMutator]MSP[] public void setTransmitTime ( final TimeStamp ts ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR2Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.ROR3Mutator]MSP[]
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.UOI1Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[InlineConstantMutator]MSP[]
} @Override public synchronized DatagramPacket getDatagramPacket () MST[rv.CRCR1Mutator]MSP[] { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[rv.CRCR1Mutator]MSP[]
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.OBBN3Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
final long i = b & 0xFF ; return i ; } @Override MST[NonVoidMethodCallMutator]MSP[] public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
public void setStratum ( final int stratum ) MST[rv.CRCR6Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 | MST[PrimitiveReturnsMutator]MSP[]
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[PrimitiveReturnsMutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[InlineConstantMutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
} @Override MST[NegateConditionalsMutator]MSP[] public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
public void setStratum ( final int stratum ) MST[rv.CRCR3Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI1Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR4Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.CRCR5Mutator]MSP[]
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.UOI2Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.OBBN1Mutator]MSP[] public void setMode ( final int mode ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.UOI4Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public int getPoll () { return buf [ POLL_INDEX ] ; } @Override
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR5Mutator]MSP[]
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.UOI4Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[PrimitiveReturnsMutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOR3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) { if ( this == obj ) { MST[ReturnValsMutator]MSP[] return true ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
@Override MST[rv.UOI3Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public void setTransmitTime ( final TimeStamp ts ) {
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + MST[NonVoidMethodCallMutator]MSP[] lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public void setReceiveTimeStamp ( final TimeStamp ts ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.AOD2Mutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[EmptyObjectReturnValsMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[NonVoidMethodCallMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.OBBN3Mutator]MSP[]
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.OBBN2Mutator]MSP[]
@Override MST[NonVoidMethodCallMutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR5Mutator]MSP[] {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR6Mutator]MSP[] {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.CRCR5Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR6Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.CRCR3Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[InlineConstantMutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR6Mutator]MSP[] {
@Override MST[rv.CRCR1Mutator]MSP[] public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.UOI4Mutator]MSP[] {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) {
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[InlineConstantMutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
buf [ VERSION_INDEX ] = (byte) ( buf [ VERSION_INDEX ] & 0xC7 | ( ( version & 0x7 ) << VERSION_SHIFT ) ) ; } @Override public int getStratum () MST[rv.UOI3Mutator]MSP[] { return ui ( buf [ STRATUM_INDEX ] ) ; } @Override
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[RemoveConditionalMutator_EQUAL_ELSE]MSP[]
ul ( buf [ index + 2 ] ) << 40 | MST[rv.AOR3Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.UOI3Mutator]MSP[]
if ( stratum >= 2 ) { MST[rv.CRCR5Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override MST[ReturnValsMutator]MSP[] public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[InlineConstantMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
@Override MST[InlineConstantMutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.UOI1Mutator]MSP[]
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + MST[NonVoidMethodCallMutator]MSP[] ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.CRCR2Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.ROR3Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.ABSMutator]MSP[] { final StringBuilder id = new StringBuilder () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.CRCR4Mutator]MSP[]
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.ROR2Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
ul ( buf [ index + 2 ] ) << 40 | MST[rv.UOI4Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[rv.CRCR3Mutator]MSP[]
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.ABSMutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR5Mutator]MSP[] {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.OBBN3Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[InlineConstantMutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.ROR4Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.UOI2Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
ul ( buf [ index + 2 ] ) << 40 | MST[rv.OBBN2Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) MST[rv.UOI2Mutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | MST[rv.UOI4Mutator]MSP[] ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.OBBN1Mutator]MSP[] {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[rv.ROR1Mutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[rv.CRCR4Mutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[InlineConstantMutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR2Mutator]MSP[]
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public void setMode ( final int mode ) {
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[InlineConstantMutator]MSP[]
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.CRCR4Mutator]MSP[] {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR5Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () MST[rv.CRCR2Mutator]MSP[] { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
ul ( buf [ index + 2 ] ) << 40 | MST[rv.UOI2Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
public void setStratum ( final int stratum ) MST[rv.UOI1Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
ul ( buf [ index + 2 ] ) << 40 | MST[rv.UOI3Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[RemoveConditionalMutator_ORDER_ELSE]MSP[] { final StringBuilder id = new StringBuilder () ;
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[MathMutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.CRCR1Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.UOI1Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[NonVoidMethodCallMutator]MSP[] { final StringBuilder id = new StringBuilder () ;
if ( stratum >= 2 ) { MST[rv.ROR2Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.OBBN2Mutator]MSP[] {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI2Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR6Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public void setMode ( final int mode ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[NegateConditionalsMutator]MSP[] { final StringBuilder id = new StringBuilder () ;
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.CRCR3Mutator]MSP[]
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.AOR2Mutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | MST[rv.ABSMutator]MSP[] ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) {
ul ( buf [ index + 6 ] ) << 8 | ul ( buf [ index + 7 ] ) ; return i ; } private void setTimestamp ( final int index , final TimeStamp t ) MST[rv.CRCR6Mutator]MSP[] {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[InlineConstantMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.OBBN1Mutator]MSP[] public void setMode ( final int mode ) {
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + MST[NonVoidMethodCallMutator]MSP[] lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.UOI1Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.OBBN2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR3Mutator]MSP[]
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR5Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.OBBN3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[MathMutator]MSP[]
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR6Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.ABSMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.UOI2Mutator]MSP[]
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override MST[NonVoidMethodCallMutator]MSP[] public TimeStamp getReferenceTimeStamp () {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () MST[PrimitiveReturnsMutator]MSP[] { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[ConstructorCallMutator]MSP[] { final StringBuilder id = new StringBuilder () ;
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI2Mutator]MSP[] {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override MST[NonVoidMethodCallMutator]MSP[] public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) MST[rv.ROR5Mutator]MSP[] { if ( this == obj ) { return true ; }
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[experimental.NakedReceiverMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR1Mutator]MSP[]
ul ( buf [ index + 2 ] ) << 40 | MST[rv.CRCR3Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR4Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
for ( int i = 0 ; i <= 3 ; i ++ ) { final char c = ( char ) buf [ REFERENCE_ID_INDEX + i ] ; if ( c == 0 ) { MST[rv.UOI3Mutator]MSP[] break; } id . append ( c ) ; }
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[rv.CRCR6Mutator]MSP[]
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[InlineConstantMutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR1Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
if ( stratum >= 2 ) { MST[rv.UOI2Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) { final int i = ui ( buf [ index ] ) << 24 | MST[rv.OBBN2Mutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.CRCR5Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override MST[rv.UOI3Mutator]MSP[] public int getPoll () { return buf [ POLL_INDEX ] ; } @Override
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) MST[NegateConditionalsMutator]MSP[] { if ( this == obj ) { return true ; }
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.UOI4Mutator]MSP[] {
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override MST[InlineConstantMutator]MSP[] public void setTransmitTime ( final TimeStamp ts ) {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI1Mutator]MSP[] {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR5Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.AOR2Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[MathMutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.ABSMutator]MSP[] {
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override public void setTransmitTime ( final TimeStamp ts ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR5Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.AOD1Mutator]MSP[] {
public void setStratum ( final int stratum ) MST[rv.UOI4Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.UOI3Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.ABSMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.AOR2Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.CRCR2Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
final int stratum = getStratum () ; MST[NonVoidMethodCallMutator]MSP[] if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; } if ( version == VERSION_4 ) { return idAsHex () ; } }
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR3Mutator]MSP[] {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.UOI1Mutator]MSP[] {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.CRCR4Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.AOR2Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[MathMutator]MSP[]
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.CRCR4Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR6Mutator]MSP[]
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.CRCR2Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.CRCR5Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.ABSMutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
ul ( buf [ index + 2 ] ) << 40 | MST[rv.CRCR1Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.UOI4Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.OBBN1Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[rv.ROR5Mutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.UOI2Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[NonVoidMethodCallMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.CRCR1Mutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.UOI2Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.CRCR5Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override MST[InlineConstantMutator]MSP[] public int getPoll () { return buf [ POLL_INDEX ] ; } @Override
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () MST[rv.CRCR6Mutator]MSP[] { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.UOI4Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.ABSMutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR3Mutator]MSP[] {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[MathMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
@Override MST[rv.CRCR5Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () MST[NonVoidMethodCallMutator]MSP[] { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[InlineConstantMutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override MST[InlineConstantMutator]MSP[] public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override MST[VoidMethodCallMutator]MSP[] public void setReceiveTimeStamp ( final TimeStamp ts ) {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.OBBN3Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.UOI1Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () MST[rv.CRCR6Mutator]MSP[] { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[InlineConstantMutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
ul ( buf [ index + 2 ] ) << 40 | MST[MathMutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override MST[VoidMethodCallMutator]MSP[] public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.CRCR3Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR2Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.OBBN2Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override MST[InlineConstantMutator]MSP[] public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) {
@Override MST[rv.OBBN3Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
public void setStratum ( final int stratum ) MST[rv.CRCR1Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.ABSMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR2Mutator]MSP[]
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override MST[rv.ROR2Mutator]MSP[] public void setDatagramPacket ( final DatagramPacket srcDp ) {
@Override MST[rv.CRCR1Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public void setRootDispersion ( final int dispersion ) {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[InlineConstantMutator]MSP[] {
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) MST[rv.CRCR1Mutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.UOI1Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.CRCR2Mutator]MSP[]
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override MST[rv.ROR5Mutator]MSP[] public void setDatagramPacket ( final DatagramPacket srcDp ) {
if ( stratum >= 2 ) { MST[rv.CRCR2Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOR4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.UOI2Mutator]MSP[] public void setMode ( final int mode ) {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | MST[MathMutator]MSP[] ul ( buf [ index + 5 ] ) << 16 |
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[MathMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
@Override MST[rv.CRCR4Mutator]MSP[] public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOR4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public TimeStamp getReferenceTimeStamp () {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ul ( buf [ index + 6 ] ) << 8 | ul ( buf [ index + 7 ] ) ; return i ; } private void setTimestamp ( final int index , final TimeStamp t ) MST[rv.ROR5Mutator]MSP[] {
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + MST[NonVoidMethodCallMutator]MSP[] lr_7 + getPrecision () + lr_8 + getRootDelay () +
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[ConditionalsBoundaryMutator]MSP[] {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override MST[ReturnValsMutator]MSP[] public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) {
ul ( buf [ index + 2 ] ) << 40 | MST[rv.CRCR6Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.ABSMutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[MathMutator]MSP[] public void setMode ( final int mode ) {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR3Mutator]MSP[] {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR1Mutator]MSP[] {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.CRCR6Mutator]MSP[] {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override MST[rv.UOI3Mutator]MSP[] public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.ABSMutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.CRCR1Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOR1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR2Mutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.CRCR5Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
} @Override public synchronized DatagramPacket getDatagramPacket () MST[experimental.MemberVariableMutator]MSP[] { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[ReturnValsMutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.AOD2Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.UOI3Mutator]MSP[]
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.UOI2Mutator]MSP[]
if ( obj == null || getClass () != obj . getClass () ) { MST[BooleanTrueReturnValsMutator]MSP[] return false ; } final NtpV3Impl other = ( NtpV3Impl ) obj ; return java . util . Arrays . equals ( buf , other . buf ) ; } @Override public int hashCode ()
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[ReturnValsMutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[NonVoidMethodCallMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[MathMutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.OBBN1Mutator]MSP[] {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.CRCR5Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI4Mutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[MathMutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI3Mutator]MSP[] {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 | MST[rv.UOI1Mutator]MSP[]
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[RemoveConditionalMutator_EQUAL_ELSE]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
public void setStratum ( final int stratum ) MST[rv.CRCR4Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.UOI3Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () MST[rv.CRCR3Mutator]MSP[] { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.AOR3Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) MST[rv.CRCR4Mutator]MSP[] {
buf [ VERSION_INDEX ] = (byte) ( buf [ VERSION_INDEX ] & 0xC7 | ( ( version & 0x7 ) << VERSION_SHIFT ) ) ; } @Override public int getStratum () MST[rv.CRCR5Mutator]MSP[] { return ui ( buf [ STRATUM_INDEX ] ) ; } @Override
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.ABSMutator]MSP[] { final StringBuilder id = new StringBuilder () ;
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.UOI4Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[InlineConstantMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[rv.UOI2Mutator]MSP[]
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.UOI3Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.OBBN2Mutator]MSP[]
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public void setMode ( final int mode ) {
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override MST[ReturnValsMutator]MSP[] public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | MST[rv.UOI1Mutator]MSP[] ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[RemoveConditionalMutator_ORDER_ELSE]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.OBBN1Mutator]MSP[]
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.UOI1Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.ROR1Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[rv.CRCR1Mutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override MST[ArgumentPropagationMutator]MSP[] public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
ul ( buf [ index + 2 ] ) << 40 | MST[rv.CRCR4Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.UOI4Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR4Mutator]MSP[] {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR3Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.ABSMutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
ul ( buf [ index + 6 ] ) << 8 | ul ( buf [ index + 7 ] ) ; return i ; } private void setTimestamp ( final int index , final TimeStamp t ) MST[NegateConditionalsMutator]MSP[] {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.CRCR3Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.ROR2Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR2Mutator]MSP[] {
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public boolean equals ( final Object obj ) { if ( this == obj ) { return true ; }
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.AOR4Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.UOI1Mutator]MSP[] {
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + MST[experimental.NakedReceiverMutator]MSP[] lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.UOI2Mutator]MSP[] {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public void setMode ( final int mode ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR5Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR3Mutator]MSP[]
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR5Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[NonVoidMethodCallMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR6Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () MST[ArgumentPropagationMutator]MSP[] { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[MathMutator]MSP[] { final StringBuilder id = new StringBuilder () ;
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.ABSMutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public void setMode ( final int mode ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ul ( buf [ index + 6 ] ) << 8 | ul ( buf [ index + 7 ] ) ; return i ; } private void setTimestamp ( final int index , final TimeStamp t ) MST[rv.CRCR3Mutator]MSP[] {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () { final StringBuilder id = new StringBuilder () ; MST[rv.ROR1Mutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR2Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | MST[rv.OBBN2Mutator]MSP[] ul ( buf [ index + 5 ] ) << 16 |
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[ConditionalsBoundaryMutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[MathMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.OBBN3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[NegateConditionalsMutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOD1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override MST[rv.UOI2Mutator]MSP[] public void setRootDispersion ( final int dispersion ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[RemoveConditionalMutator_EQUAL_ELSE]MSP[]
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR3Mutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.AOD1Mutator]MSP[]
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.CRCR6Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR6Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR2Mutator]MSP[] {
return id . toString () ; } private String idAsHex () MST[NonVoidMethodCallMutator]MSP[] { return Integer . toHexString ( getReferenceId () ) ; } @Override public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override public void setTransmitTime ( final TimeStamp ts ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.UOI1Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.CRCR3Mutator]MSP[] {
@Override MST[rv.UOI2Mutator]MSP[] public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR6Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
buf [ VERSION_INDEX ] = (byte) ( buf [ VERSION_INDEX ] & 0xC7 | ( ( version & 0x7 ) << VERSION_SHIFT ) ) ; } @Override public int getStratum () MST[rv.CRCR2Mutator]MSP[] { return ui ( buf [ STRATUM_INDEX ] ) ; } @Override
return id . toString () ; } private String idAsHex () MST[EmptyObjectReturnValsMutator]MSP[] { return Integer . toHexString ( getReferenceId () ) ; } @Override public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override public void setTransmitTime ( final TimeStamp ts ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[NonVoidMethodCallMutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[MathMutator]MSP[]
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.UOI1Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.OBBN1Mutator]MSP[] {
@Override MST[rv.ABSMutator]MSP[] public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.UOI3Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
@Override MST[MathMutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.AOR3Mutator]MSP[]
public void setStratum ( final int stratum ) MST[rv.CRCR2Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.UOI3Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.AOR4Mutator]MSP[] {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.UOI2Mutator]MSP[]
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.ROR3Mutator]MSP[]
if ( stratum >= 2 ) { MST[rv.CRCR4Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override MST[InlineConstantMutator]MSP[] public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override public void setTransmitTime ( final TimeStamp ts ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR6Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.ABSMutator]MSP[]
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.ROR4Mutator]MSP[]
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR6Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
public void setStratum ( final int stratum ) MST[InlineConstantMutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[MathMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[MathMutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[MathMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.CRCR2Mutator]MSP[]
@Override MST[rv.CRCR2Mutator]MSP[] public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.UOI4Mutator]MSP[]
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + MST[experimental.NakedReceiverMutator]MSP[] lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.UOI1Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI4Mutator]MSP[] {
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.CRCR6Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | MST[rv.UOI3Mutator]MSP[] ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) {
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public void setMode ( final int mode ) {
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.OBBN2Mutator]MSP[]
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.CRCR2Mutator]MSP[]
ul ( buf [ index + 6 ] ) << 8 | ul ( buf [ index + 7 ] ) ; return i ; } private void setTimestamp ( final int index , final TimeStamp t ) MST[NonVoidMethodCallMutator]MSP[] {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[rv.ROR2Mutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[MathMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR1Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
buf [ VERSION_INDEX ] = (byte) ( buf [ VERSION_INDEX ] & 0xC7 | ( ( version & 0x7 ) << VERSION_SHIFT ) ) ; } @Override public int getStratum () MST[rv.ABSMutator]MSP[] { return ui ( buf [ STRATUM_INDEX ] ) ; } @Override
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () MST[rv.CRCR3Mutator]MSP[] { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + MST[experimental.NakedReceiverMutator]MSP[] lr_7 + getPrecision () + lr_8 + getRootDelay () +
ul ( buf [ index + 2 ] ) << 40 | MST[rv.UOI4Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.OBBN2Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.AOR1Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 | MST[rv.UOI3Mutator]MSP[]
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override MST[PrimitiveReturnsMutator]MSP[] public int getPoll () { return buf [ POLL_INDEX ] ; } @Override
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[RemoveConditionalMutator_EQUAL_IF]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.UOI1Mutator]MSP[]
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[MathMutator]MSP[] {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[NonVoidMethodCallMutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.CRCR3Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[MathMutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.OBBN1Mutator]MSP[] {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[MathMutator]MSP[] {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.ABSMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) MST[NonVoidMethodCallMutator]MSP[] { if ( this == obj ) { return true ; }
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR6Mutator]MSP[] {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.OBBN3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
} @Override public synchronized DatagramPacket getDatagramPacket () MST[ConstructorCallMutator]MSP[] { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.CRCR4Mutator]MSP[]
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.UOI2Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.UOI3Mutator]MSP[] public void setMode ( final int mode ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.OBBN2Mutator]MSP[]
ul ( buf [ index + 2 ] ) << 40 | MST[rv.UOI1Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
public void setStratum ( final int stratum ) MST[rv.UOI2Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.OBBN1Mutator]MSP[]
ul ( buf [ index + 2 ] ) << 40 | MST[rv.UOI2Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.OBBN3Mutator]MSP[]
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.AOR4Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR1Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
for ( int i = 3 ; i >= 0 ; i -- ) { buf [ idx + i ] = (byte) ( value & 0xff ) ; value >>>= 8 ; } } private TimeStamp getTimestamp ( final int index ) MST[rv.UOI3Mutator]MSP[] {
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; MST[ReturnValsMutator]MSP[] dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.ABSMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.CRCR6Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR6Mutator]MSP[]
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.CRCR3Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public void setReceiveTimeStamp ( final TimeStamp ts ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override MST[NonVoidMethodCallMutator]MSP[] public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.UOI2Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
@Override MST[rv.CRCR3Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
for ( int i = 0 ; i <= 3 ; i ++ ) { final char c = ( char ) buf [ REFERENCE_ID_INDEX + i ] ; if ( c == 0 ) { MST[rv.ABSMutator]MSP[] break; } id . append ( c ) ; }
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.OBBN1Mutator]MSP[] public void setMode ( final int mode ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () { final StringBuilder id = new StringBuilder () ; MST[rv.ROR3Mutator]MSP[]
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.CRCR3Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () { final StringBuilder id = new StringBuilder () ; MST[RemoveConditionalMutator_EQUAL_IF]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.CRCR5Mutator]MSP[]
ul ( buf [ index + 2 ] ) << 40 | MST[InlineConstantMutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.UOI1Mutator]MSP[]
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () MST[ArgumentPropagationMutator]MSP[] { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
@Override MST[rv.CRCR5Mutator]MSP[] public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR4Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.ABSMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR5Mutator]MSP[]
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOD1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOD2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + MST[NonVoidMethodCallMutator]MSP[] lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public void setMode ( final int mode ) {
if ( stratum >= 2 ) { MST[rv.CRCR1Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override MST[rv.ROR3Mutator]MSP[] public void setDatagramPacket ( final DatagramPacket srcDp ) {
ul ( buf [ index + 6 ] ) << 8 | ul ( buf [ index + 7 ] ) ; return i ; } private void setTimestamp ( final int index , final TimeStamp t ) MST[rv.CRCR5Mutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.AOR1Mutator]MSP[] {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () { final StringBuilder id = new StringBuilder () ; MST[rv.UOI2Mutator]MSP[]
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR4Mutator]MSP[]
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOR1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI2Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOR2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.ABSMutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) MST[VoidMethodCallMutator]MSP[] {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override MST[rv.UOI4Mutator]MSP[] public void setRootDispersion ( final int dispersion ) {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.AOR1Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[InlineConstantMutator]MSP[] {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.ROR4Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.CRCR5Mutator]MSP[] {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[experimental.NakedReceiverMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.OBBN1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
@Override MST[InlineConstantMutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.UOI1Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.CRCR1Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.UOI4Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR4Mutator]MSP[] {
for ( int i = 3 ; i >= 0 ; i -- ) { buf [ idx + i ] = (byte) ( value & 0xff ) ; value >>>= 8 ; } } private TimeStamp getTimestamp ( final int index ) MST[NonVoidMethodCallMutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.CRCR3Mutator]MSP[]
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[rv.UOI4Mutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.ABSMutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
ul ( buf [ index + 2 ] ) << 40 | MST[rv.ABSMutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
ul ( buf [ index + 2 ] ) << 40 | MST[rv.OBBN3Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.ABSMutator]MSP[] public void setMode ( final int mode ) {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 | MST[ReturnValsMutator]MSP[]
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.AOD2Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
public void setStratum ( final int stratum ) MST[rv.OBBN3Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) MST[RemoveConditionalMutator_EQUAL_IF]MSP[] { if ( this == obj ) { return true ; }
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[NonVoidMethodCallMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[MathMutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
@Override MST[PrimitiveReturnsMutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR2Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[VoidMethodCallMutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[InlineConstantMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
final long i = b & 0xFF ; return i ; } @Override MST[experimental.NakedReceiverMutator]MSP[] public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
buf [ VERSION_INDEX ] = (byte) ( buf [ VERSION_INDEX ] & 0xC7 | ( ( version & 0x7 ) << VERSION_SHIFT ) ) ; } @Override public int getStratum () MST[rv.UOI2Mutator]MSP[] { return ui ( buf [ STRATUM_INDEX ] ) ; } @Override
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.AOR4Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[ConstructorCallMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.UOI3Mutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR5Mutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[NonVoidMethodCallMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOR4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.CRCR6Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOR3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.AOR1Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR5Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public void setReceiveTimeStamp ( final TimeStamp ts ) {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[InlineConstantMutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.ABSMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( stratum >= 2 ) { MST[rv.ABSMutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override MST[ReturnValsMutator]MSP[] public String getType () { return lr_2 ; } private int getInt ( final int index ) { final int i = ui ( buf [ index ] ) << 24 |
ul ( buf [ index + 2 ] ) << 40 | MST[rv.AOD2Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) { if ( this == obj ) { MST[InlineConstantMutator]MSP[] return true ; }
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.CRCR6Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[RemoveConditionalMutator_EQUAL_ELSE]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[NonVoidMethodCallMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.AOD2Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.UOI1Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.ROR1Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () MST[PrimitiveReturnsMutator]MSP[] { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
} @Override public synchronized DatagramPacket getDatagramPacket () MST[InlineConstantMutator]MSP[] { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override MST[rv.UOI2Mutator]MSP[] public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR3Mutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.ROR1Mutator]MSP[] {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.AOR2Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) MST[rv.CRCR5Mutator]MSP[] {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.ROR3Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI3Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public TimeStamp getReferenceTimeStamp () {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[PrimitiveReturnsMutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOR1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[InlineConstantMutator]MSP[]
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public TimeStamp getReferenceTimeStamp () {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.CRCR1Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override MST[rv.UOI1Mutator]MSP[] public void setRootDispersion ( final int dispersion ) {
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public void setTransmitTime ( final TimeStamp ts ) {
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public void setTransmitTime ( final TimeStamp ts ) {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.CRCR6Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public void setRootDispersion ( final int dispersion ) {
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override MST[NullReturnValsMutator]MSP[] public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override public void setTransmitTime ( final TimeStamp ts ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[InlineConstantMutator]MSP[]
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.CRCR3Mutator]MSP[]
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR5Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[NonVoidMethodCallMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR1Mutator]MSP[] {
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[InlineConstantMutator]MSP[]
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR3Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.UOI4Mutator]MSP[]
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | MST[PrimitiveReturnsMutator]MSP[] ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.ROR4Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR6Mutator]MSP[]
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.OBBN2Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOR1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR4Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.CRCR6Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[NegateConditionalsMutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
@Override MST[rv.CRCR6Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[InlineConstantMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[RemoveConditionalMutator_EQUAL_IF]MSP[]
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[InlineConstantMutator]MSP[] { final StringBuilder id = new StringBuilder () ;
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.OBBN1Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.CRCR3Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.ABSMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public void setMode ( final int mode ) {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.UOI1Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.OBBN2Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.UOI4Mutator]MSP[]
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.ABSMutator]MSP[] {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.ROR1Mutator]MSP[]
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[MathMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.CRCR4Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.UOI3Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
} @Override public synchronized DatagramPacket getDatagramPacket () MST[rv.CRCR3Mutator]MSP[] { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override MST[ReturnValsMutator]MSP[] public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[rv.CRCR3Mutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[InlineConstantMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + MST[experimental.NakedReceiverMutator]MSP[] lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.ABSMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.ROR5Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.AOR4Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[rv.UOI3Mutator]MSP[]
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.UOI2Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.UOI3Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.ABSMutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public void setMode ( final int mode ) {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI4Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR6Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
if ( stratum >= 2 ) { MST[rv.ROR3Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
ul ( buf [ index + 2 ] ) << 40 | MST[rv.AOR4Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[PrimitiveReturnsMutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI4Mutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR6Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR5Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public boolean equals ( final Object obj ) { if ( this == obj ) { return true ; }
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[ReturnValsMutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
@Override MST[InlineConstantMutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[ReturnValsMutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override public void setTransmitTime ( final TimeStamp ts ) {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () MST[InlineConstantMutator]MSP[] { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[InlineConstantMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.UOI1Mutator]MSP[]
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[rv.CRCR6Mutator]MSP[]
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR5Mutator]MSP[] {
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[rv.CRCR5Mutator]MSP[]
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.CRCR4Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
if ( stratum >= 2 ) { MST[ReturnValsMutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[NonVoidMethodCallMutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.AOD1Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public boolean equals ( final Object obj ) { if ( this == obj ) { return true ; }
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) MST[RemoveConditionalMutator_EQUAL_IF]MSP[] { if ( this == obj ) { return true ; }
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[MathMutator]MSP[] {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () { final StringBuilder id = new StringBuilder () ; MST[RemoveConditionalMutator_EQUAL_ELSE]MSP[]
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[rv.ROR3Mutator]MSP[] {
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[rv.UOI1Mutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR6Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public void setMode ( final int mode ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[InlineConstantMutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.ROR4Mutator]MSP[] {
for ( int i = 3 ; i >= 0 ; i -- ) { buf [ idx + i ] = (byte) ( value & 0xff ) ; value >>>= 8 ; } } private TimeStamp getTimestamp ( final int index ) MST[NullReturnValsMutator]MSP[] {
ul ( buf [ index + 2 ] ) << 40 | MST[rv.CRCR2Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.ROR4Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public int getPoll () { return buf [ POLL_INDEX ] ; } @Override
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR6Mutator]MSP[] {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR3Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR3Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOR4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.CRCR3Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) MST[rv.ABSMutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR2Mutator]MSP[] {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[NonVoidMethodCallMutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[IncrementsMutator]MSP[] { final StringBuilder id = new StringBuilder () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR6Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + MST[NonVoidMethodCallMutator]MSP[] lr_7 + getPrecision () + lr_8 + getRootDelay () +
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.OBBN3Mutator]MSP[] {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () MST[ReturnValsMutator]MSP[] { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.AOR3Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[ReturnValsMutator]MSP[] { final StringBuilder id = new StringBuilder () ;
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public void setMode ( final int mode ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.UOI2Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[MathMutator]MSP[] public void setMode ( final int mode ) {
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override public void setTransmitTime ( final TimeStamp ts ) {
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.CRCR1Mutator]MSP[]
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[InlineConstantMutator]MSP[] public void setMode ( final int mode ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[MathMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.AOD2Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public int getPoll () { return buf [ POLL_INDEX ] ; } @Override
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.ROR1Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.OBBN1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
ul ( buf [ index + 2 ] ) << 40 | MST[NonVoidMethodCallMutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.UOI2Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
for ( int i = 0 ; i <= 3 ; i ++ ) { final char c = ( char ) buf [ REFERENCE_ID_INDEX + i ] ; if ( c == 0 ) { MST[rv.UOI2Mutator]MSP[] break; } id . append ( c ) ; }
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR1Mutator]MSP[] {
public void setStratum ( final int stratum ) MST[rv.CRCR5Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOD2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) MST[RemoveConditionalMutator_EQUAL_ELSE]MSP[] { if ( this == obj ) { return true ; }
return id . toString () ; } private String idAsHex () MST[ReturnValsMutator]MSP[] { return Integer . toHexString ( getReferenceId () ) ; } @Override public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override public void setTransmitTime ( final TimeStamp ts ) {
if ( srcDp == null || srcDp . getLength () < buf . length ) { MST[NonVoidMethodCallMutator]MSP[] throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override MST[ReturnValsMutator]MSP[] public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR5Mutator]MSP[]
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[NonVoidMethodCallMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.CRCR1Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[MathMutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.AOR1Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.CRCR2Mutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.UOI2Mutator]MSP[]
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.ABSMutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
@Override MST[rv.CRCR1Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.UOI4Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
public void setStratum ( final int stratum ) MST[rv.ABSMutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[InlineConstantMutator]MSP[] {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override MST[InlineConstantMutator]MSP[] public void setRootDispersion ( final int dispersion ) {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[experimental.NakedReceiverMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR6Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.AOD2Mutator]MSP[] {
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[MathMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.CRCR6Mutator]MSP[]
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[InlineConstantMutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) { if ( this == obj ) { MST[rv.CRCR1Mutator]MSP[] return true ; }
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.ABSMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.UOI4Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[MathMutator]MSP[]
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.AOR1Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
@Override MST[rv.OBBN2Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
if ( stratum >= 2 ) { MST[InlineConstantMutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.UOI1Mutator]MSP[]
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public void setRootDispersion ( final int dispersion ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.ABSMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.CRCR6Mutator]MSP[]
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR1Mutator]MSP[]
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[RemoveConditionalMutator_ORDER_IF]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override MST[NonVoidMethodCallMutator]MSP[] public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.CRCR6Mutator]MSP[]
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.CRCR2Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.CRCR4Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[MathMutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.UOI3Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR3Mutator]MSP[] {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.UOI3Mutator]MSP[]
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.UOI4Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.UOI4Mutator]MSP[]
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override MST[rv.UOI4Mutator]MSP[] public int getPoll () { return buf [ POLL_INDEX ] ; } @Override
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.CRCR2Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.CRCR6Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[InlineConstantMutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[MathMutator]MSP[] {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.ABSMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.UOI3Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[NonVoidMethodCallMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
ul ( buf [ index + 2 ] ) << 40 | MST[rv.CRCR5Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override MST[EmptyObjectReturnValsMutator]MSP[] public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[InlineConstantMutator]MSP[] public void setMode ( final int mode ) {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override MST[rv.UOI4Mutator]MSP[] public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[MathMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR2Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.UOI4Mutator]MSP[] public void setMode ( final int mode ) {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | MST[rv.OBBN3Mutator]MSP[] ul ( buf [ index + 5 ] ) << 16 |
buf [ VERSION_INDEX ] = (byte) ( buf [ VERSION_INDEX ] & 0xC7 | ( ( version & 0x7 ) << VERSION_SHIFT ) ) ; } @Override public int getStratum () MST[rv.CRCR6Mutator]MSP[] { return ui ( buf [ STRATUM_INDEX ] ) ; } @Override
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.ABSMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
for ( int i = 0 ; i <= 3 ; i ++ ) { final char c = ( char ) buf [ REFERENCE_ID_INDEX + i ] ; if ( c == 0 ) { MST[rv.UOI1Mutator]MSP[] break; } id . append ( c ) ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOD1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOR4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) MST[RemoveConditionalMutator_EQUAL_ELSE]MSP[] { if ( this == obj ) { return true ; }
ul ( buf [ index + 2 ] ) << 40 | MST[MathMutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override MST[rv.UOI1Mutator]MSP[] public int getPoll () { return buf [ POLL_INDEX ] ; } @Override
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.UOI3Mutator]MSP[] public void setMode ( final int mode ) {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override MST[rv.UOI3Mutator]MSP[] public void setRootDispersion ( final int dispersion ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.AOR2Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR3Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public void setMode ( final int mode ) {
public void setStratum ( final int stratum ) MST[rv.CRCR3Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.UOI4Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[MathMutator]MSP[] public void setMode ( final int mode ) {
return id . toString () ; } private String idAsHex () MST[NonVoidMethodCallMutator]MSP[] { return Integer . toHexString ( getReferenceId () ) ; } @Override public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override public void setTransmitTime ( final TimeStamp ts ) {
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override MST[RemoveConditionalMutator_ORDER_IF]MSP[] public void setDatagramPacket ( final DatagramPacket srcDp ) {
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[VoidMethodCallMutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
@Override MST[rv.CRCR3Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.ABSMutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override MST[rv.ROR4Mutator]MSP[] public void setDatagramPacket ( final DatagramPacket srcDp ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOR2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.CRCR2Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR3Mutator]MSP[] {
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
if ( obj == null || getClass () != obj . getClass () ) { MST[BooleanFalseReturnValsMutator]MSP[] return false ; } final NtpV3Impl other = ( NtpV3Impl ) obj ; return java . util . Arrays . equals ( buf , other . buf ) ; } @Override public int hashCode ()
@Override MST[rv.CRCR6Mutator]MSP[] public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOR2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.UOI2Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + MST[experimental.NakedReceiverMutator]MSP[] ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.OBBN3Mutator]MSP[]
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public void setMode ( final int mode ) {
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.CRCR4Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[rv.ROR3Mutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.OBBN3Mutator]MSP[]
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.ROR2Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
ul ( buf [ index + 6 ] ) << 8 | ul ( buf [ index + 7 ] ) ; return i ; } private void setTimestamp ( final int index , final TimeStamp t ) MST[RemoveConditionalMutator_EQUAL_ELSE]MSP[] {
ul ( buf [ index + 2 ] ) << 40 | MST[rv.CRCR3Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.UOI3Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override MST[ReturnValsMutator]MSP[] public boolean equals ( final Object obj ) { if ( this == obj ) { return true ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.ABSMutator]MSP[]
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () MST[rv.CRCR4Mutator]MSP[] { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
public void setStratum ( final int stratum ) MST[rv.OBBN1Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[NonVoidMethodCallMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
@Override MST[ReturnValsMutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[ConditionalsBoundaryMutator]MSP[] { final StringBuilder id = new StringBuilder () ;
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
dp . setPort ( port > 0 ? port : NTP_PORT ) ; dp . setData ( buf ) ; } @Override public boolean equals ( final Object obj ) { if ( this == obj ) { MST[rv.CRCR5Mutator]MSP[] return true ; }
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override public void setTransmitTime ( final TimeStamp ts ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[InlineConstantMutator]MSP[] {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR5Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[InlineConstantMutator]MSP[] { final StringBuilder id = new StringBuilder () ;
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
public void setStratum ( final int stratum ) MST[rv.CRCR6Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.UOI1Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + MST[NonVoidMethodCallMutator]MSP[] ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR6Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.ROR1Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.ABSMutator]MSP[] { final StringBuilder id = new StringBuilder () ;
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.CRCR2Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.CRCR4Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.UOI2Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
if ( stratum >= 2 ) { MST[rv.UOI3Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI1Mutator]MSP[] {
ul ( buf [ index + 2 ] ) << 40 | MST[rv.AOR1Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.UOI2Mutator]MSP[] {
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override MST[NonVoidMethodCallMutator]MSP[] public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR1Mutator]MSP[] {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.UOI3Mutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI3Mutator]MSP[] {
final int stratum = getStratum () ; MST[ReturnValsMutator]MSP[] if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; } if ( version == VERSION_4 ) { return idAsHex () ; } }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[NonVoidMethodCallMutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.ROR2Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR1Mutator]MSP[] {
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[NonVoidMethodCallMutator]MSP[] {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.CRCR4Mutator]MSP[] {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[NegateConditionalsMutator]MSP[]
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override MST[rv.UOI1Mutator]MSP[] public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR5Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.ROR4Mutator]MSP[]
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.UOI4Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[InlineConstantMutator]MSP[]
final long i = b & 0xFF ; return i ; } @Override MST[NonVoidMethodCallMutator]MSP[] public String toString () { return lr_3 + lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR4Mutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.CRCR1Mutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.CRCR5Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.UOI2Mutator]MSP[] {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.ABSMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[EmptyObjectReturnValsMutator]MSP[] { final StringBuilder id = new StringBuilder () ;
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public void setMode ( final int mode ) {
ul ( buf [ index + 6 ] ) << 8 | ul ( buf [ index + 7 ] ) ; return i ; } private void setTimestamp ( final int index , final TimeStamp t ) MST[rv.CRCR1Mutator]MSP[] {
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; MST[NonVoidMethodCallMutator]MSP[] } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR1Mutator]MSP[]
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public void setRootDispersion ( final int dispersion ) {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[InlineConstantMutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.UOI3Mutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR5Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR5Mutator]MSP[] {
buf [ VERSION_INDEX ] = (byte) ( buf [ VERSION_INDEX ] & 0xC7 | ( ( version & 0x7 ) << VERSION_SHIFT ) ) ; } @Override public int getStratum () MST[PrimitiveReturnsMutator]MSP[] { return ui ( buf [ STRATUM_INDEX ] ) ; } @Override
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.UOI1Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[MathMutator]MSP[]
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR2Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.OBBN1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
public void setStratum ( final int stratum ) MST[MathMutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) { final int i = ui ( buf [ index ] ) << 24 | MST[rv.OBBN3Mutator]MSP[]
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[NonVoidMethodCallMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[rv.CRCR2Mutator]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[rv.ABSMutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[MathMutator]MSP[]
if ( stratum >= 2 ) { MST[NonVoidMethodCallMutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | MST[ReturnValsMutator]MSP[] ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[InlineConstantMutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.OBBN2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR6Mutator]MSP[] {
final int stratum = getStratum () ; if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; MST[RemoveConditionalMutator_EQUAL_IF]MSP[] } if ( version == VERSION_4 ) { return idAsHex () ; } }
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR1Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.AOD1Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.ROR5Mutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[MathMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.CRCR5Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.OBBN1Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[InlineConstantMutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override MST[ReturnValsMutator]MSP[] public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override public void setTransmitTime ( final TimeStamp ts ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
for ( int i = 3 ; i >= 0 ; i -- ) { buf [ idx + i ] = (byte) ( value & 0xff ) ; value >>>= 8 ; } } private TimeStamp getTimestamp ( final int index ) MST[rv.UOI2Mutator]MSP[] {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[NonVoidMethodCallMutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.CRCR5Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOD1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI2Mutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.AOR4Mutator]MSP[]
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.UOI4Mutator]MSP[]
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[MathMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) MST[rv.CRCR2Mutator]MSP[] {
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () MST[ReturnValsMutator]MSP[] { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[InlineConstantMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
for ( int i = 0 ; i <= 3 ; i ++ ) { final char c = ( char ) buf [ REFERENCE_ID_INDEX + i ] ; if ( c == 0 ) { MST[rv.UOI4Mutator]MSP[] break; } id . append ( c ) ; }
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () { final StringBuilder id = new StringBuilder () ; MST[rv.UOI1Mutator]MSP[]
buf [ VERSION_INDEX ] = (byte) ( buf [ VERSION_INDEX ] & 0xC7 | ( ( version & 0x7 ) << VERSION_SHIFT ) ) ; } @Override public int getStratum () MST[rv.CRCR3Mutator]MSP[] { return ui ( buf [ STRATUM_INDEX ] ) ; } @Override
buf [ VERSION_INDEX ] = (byte) ( buf [ VERSION_INDEX ] & 0xC7 | ( ( version & 0x7 ) << VERSION_SHIFT ) ) ; } @Override public int getStratum () MST[NonVoidMethodCallMutator]MSP[] { return ui ( buf [ STRATUM_INDEX ] ) ; } @Override
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[InlineConstantMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.AOR3Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[rv.ROR1Mutator]MSP[] {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR5Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[rv.UOI4Mutator]MSP[]
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.OBBN3Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR3Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.UOI2Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.UOI1Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.ROR5Mutator]MSP[] {
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override MST[VoidMethodCallMutator]MSP[] public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override public void setReceiveTimeStamp ( final TimeStamp ts ) {
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[rv.ROR4Mutator]MSP[] {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.CRCR2Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.ABSMutator]MSP[]
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[rv.UOI2Mutator]MSP[] {
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR6Mutator]MSP[] public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
@Override MST[rv.CRCR2Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
@Override MST[rv.UOI4Mutator]MSP[] public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[InlineConstantMutator]MSP[]
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[NonVoidMethodCallMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.CRCR1Mutator]MSP[] {
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public void setMode ( final int mode ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.ROR5Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
} @Override MST[RemoveConditionalMutator_EQUAL_ELSE]MSP[] public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public int getPoll () { return buf [ POLL_INDEX ] ; } @Override
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[rv.UOI4Mutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOR3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.ABSMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOD2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR4Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + MST[experimental.NakedReceiverMutator]MSP[] lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) MST[rv.UOI1Mutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[NegateConditionalsMutator]MSP[] {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.ABSMutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI1Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.OBBN2Mutator]MSP[] {
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[rv.ABSMutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR2Mutator]MSP[]
for ( int i = 3 ; i >= 0 ; i -- ) { buf [ idx + i ] = (byte) ( value & 0xff ) ; value >>>= 8 ; } } private TimeStamp getTimestamp ( final int index ) MST[ReturnValsMutator]MSP[] {
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + MST[NonVoidMethodCallMutator]MSP[] lr_4 + getVersion () + lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.OBBN3Mutator]MSP[] public void setMode ( final int mode ) {
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override MST[rv.ABSMutator]MSP[] public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) {
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.CRCR2Mutator]MSP[]
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.OBBN1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[NonVoidMethodCallMutator]MSP[]
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.OBBN3Mutator]MSP[]
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOD2Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[InlineConstantMutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[InlineConstantMutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR6Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.ABSMutator]MSP[] public void setMode ( final int mode ) {
public void setStratum ( final int stratum ) MST[rv.OBBN2Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
@Override MST[rv.UOI1Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[experimental.NakedReceiverMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[rv.CRCR6Mutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[rv.CRCR3Mutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR1Mutator]MSP[]
ul ( buf [ index + 2 ] ) << 40 | MST[rv.CRCR6Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR4Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[InlineConstantMutator]MSP[]
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.CRCR6Mutator]MSP[] {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () MST[rv.CRCR1Mutator]MSP[] { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.CRCR1Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[MathMutator]MSP[]
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR2Mutator]MSP[] {
ul ( buf [ index + 2 ] ) << 40 | MST[InlineConstantMutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.UOI1Mutator]MSP[]
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[RemoveConditionalMutator_EQUAL_IF]MSP[]
final int stratum = getStratum () ; MST[EmptyObjectReturnValsMutator]MSP[] if ( version == VERSION_3 || version == VERSION_4 ) { if ( stratum == 0 || stratum == 1 ) { return idAsString () ; } if ( version == VERSION_4 ) { return idAsHex () ; } }
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.UOI3Mutator]MSP[]
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[MathMutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.AOR2Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR6Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR6Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.CRCR3Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.ABSMutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.AOR3Mutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.UOI4Mutator]MSP[] {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.UOI3Mutator]MSP[]
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; MST[NonVoidMethodCallMutator]MSP[] final DatagramPacket dp = getDatagramPacket () ; dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
} @Override public synchronized DatagramPacket getDatagramPacket () MST[rv.CRCR6Mutator]MSP[] { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) {
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[NegateConditionalsMutator]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.ABSMutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI3Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.CRCR2Mutator]MSP[]
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () MST[rv.CRCR1Mutator]MSP[] { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.CRCR4Mutator]MSP[]
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.CRCR5Mutator]MSP[]
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override MST[InlineConstantMutator]MSP[] public TimeStamp getReferenceTimeStamp () {
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override MST[NonVoidMethodCallMutator]MSP[] public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[ConditionalsBoundaryMutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.CRCR2Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[InlineConstantMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.ABSMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ul ( buf [ index + 2 ] ) << 40 | MST[rv.AOD1Mutator]MSP[] ul ( buf [ index + 3 ] ) << 32 | ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.AOD2Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[VoidMethodCallMutator]MSP[]
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.CRCR5Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override public TimeStamp getReferenceTimeStamp () {
return getTimestamp ( REFERENCE_TIMESTAMP_INDEX ) ; } @Override public void setReferenceTime ( final TimeStamp ts ) { setTimestamp ( REFERENCE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getReceiveTimeStamp () { return getTimestamp ( RECEIVE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public void setReceiveTimeStamp ( final TimeStamp ts ) {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[NegateConditionalsMutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.ROR4Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
@Override MST[rv.CRCR6Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR3Mutator]MSP[] {
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.CRCR3Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI1Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.CRCR5Mutator]MSP[] {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR4Mutator]MSP[] {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.UOI4Mutator]MSP[]
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.OBBN1Mutator]MSP[]
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[MathMutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () MST[rv.AOR2Mutator]MSP[] { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () { final double l = getRootDispersion () ; return l / 65.536 ; }
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.ABSMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.CRCR2Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override MST[rv.ABSMutator]MSP[] public int getPoll () { return buf [ POLL_INDEX ] ; } @Override
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.AOD1Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.CRCR5Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[rv.OBBN3Mutator]MSP[] {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[RemoveConditionalMutator_ORDER_ELSE]MSP[] {
@Override MST[rv.UOI4Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI3Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[InlineConstantMutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
@Override MST[rv.OBBN1Mutator]MSP[] public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override public void setMode ( final int mode ) {
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () MST[InlineConstantMutator]MSP[] { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
if ( obj == null || getClass () != obj . getClass () ) { MST[ReturnValsMutator]MSP[] return false ; } final NtpV3Impl other = ( NtpV3Impl ) obj ; return java . util . Arrays . equals ( buf , other . buf ) ; } @Override public int hashCode ()
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[MathMutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.CRCR6Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.CRCR4Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[InlineConstantMutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
final long i = b & 0xFF ; return i ; } @Override public String toString () { return lr_3 + lr_4 + getVersion () + MST[NonVoidMethodCallMutator]MSP[] lr_5 + getMode () + lr_6 + getPoll () + lr_7 + getPrecision () + lr_8 + getRootDelay () +
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.OBBN3Mutator]MSP[] public void setMode ( final int mode ) {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.UOI4Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR5Mutator]MSP[]
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.CRCR1Mutator]MSP[] public void setMode ( final int mode ) {
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public void setRootDispersion ( final int dispersion ) {
public void setLeapIndicator ( final int li ) { buf [ LI_INDEX ] = (byte) ( buf [ LI_INDEX ] & 0x3F | ( ( li & 0x3 ) << LI_SHIFT ) ) ; } @Override public int getPoll () { return buf [ POLL_INDEX ] ; } @Override MST[rv.CRCR5Mutator]MSP[]
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override MST[rv.ROR5Mutator]MSP[] public void setDatagramPacket ( final DatagramPacket srcDp ) {
for ( int i = 3 ; i >= 0 ; i -- ) { buf [ idx + i ] = (byte) ( value & 0xff ) ; value >>>= 8 ; } } private TimeStamp getTimestamp ( final int index ) MST[rv.ABSMutator]MSP[] {
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override MST[ReturnValsMutator]MSP[] public TimeStamp getReferenceTimeStamp () {
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI2Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.AOR1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.AOR2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( stratum >= 2 ) { return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () MST[rv.UOI4Mutator]MSP[] { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
len = buf . length ; } System . arraycopy ( incomingBuf , 0 , buf , 0 , len ) ; final DatagramPacket dp = getDatagramPacket () ; MST[RemoveConditionalMutator_ORDER_ELSE]MSP[] dp . setAddress ( srcDp . getAddress () ) ; final int port = srcDp . getPort () ;
setTimestamp ( TRANSMIT_TIMESTAMP_INDEX , ts ) ; } @Override public void setOriginateTimeStamp ( final TimeStamp ts ) { setTimestamp ( ORIGINATE_TIMESTAMP_INDEX , ts ) ; } @Override public TimeStamp getOriginateTimeStamp () { return getTimestamp ( ORIGINATE_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR5Mutator]MSP[] public TimeStamp getReferenceTimeStamp () {
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[rv.UOI1Mutator]MSP[] public void setMode ( final int mode ) {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[InlineConstantMutator]MSP[] {
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override MST[rv.CRCR4Mutator]MSP[] public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override MST[rv.CRCR3Mutator]MSP[] public void setTransmitTime ( final TimeStamp ts ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.CRCR3Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
setInt ( ROOT_DISPERSION_INDEX , dispersion ) ; } @Override public long getRootDispersionInMillis () { final long l = getRootDispersion () ; return ( l * 1000 ) / 65536L ; } @Override public double getRootDispersionInMillisDouble () MST[rv.AOR4Mutator]MSP[] { final double l = getRootDispersion () ; return l / 65.536 ; }
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.OBBN3Mutator]MSP[] {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.OBBN3Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override MST[NonVoidMethodCallMutator]MSP[] public void setDatagramPacket ( final DatagramPacket srcDp ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.CRCR4Mutator]MSP[]
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.ROR2Mutator]MSP[]
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) MST[rv.CRCR1Mutator]MSP[] {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.CRCR3Mutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () MST[rv.UOI2Mutator]MSP[] { final StringBuilder id = new StringBuilder () ;
ul ( buf [ index + 6 ] ) << 8 | ul ( buf [ index + 7 ] ) ; return i ; } private void setTimestamp ( final int index , final TimeStamp t ) MST[InlineConstantMutator]MSP[] {
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.UOI2Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () MST[rv.CRCR4Mutator]MSP[] { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | MST[rv.UOI4Mutator]MSP[] ul ( buf [ index + 1 ] ) << 48 |
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[rv.UOI2Mutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
@Override MST[VoidMethodCallMutator]MSP[] public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ;
if ( stratum >= 2 ) { MST[RemoveConditionalMutator_ORDER_IF]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.UOI1Mutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; MST[rv.UOI2Mutator]MSP[] for ( int i = 7 ; i >= 0 ; i -- ) { buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () MST[rv.UOI3Mutator]MSP[] { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override public void setRootDispersion ( final int dispersion ) {
ui ( buf [ index + 1 ] ) << 16 | ui ( buf [ index + 2 ] ) << 8 | ui ( buf [ index + 3 ] ) ; return i ; } private void setInt ( final int idx , int value ) MST[IncrementsMutator]MSP[] {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[rv.OBBN2Mutator]MSP[]
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override MST[NegateConditionalsMutator]MSP[] public void setDatagramPacket ( final DatagramPacket srcDp ) {
} @Override public synchronized DatagramPacket getDatagramPacket () { if ( dp == null ) { dp = new DatagramPacket ( buf , buf . length ) ; dp . setPort ( NTP_PORT ) ; } return dp ; } @Override public void setDatagramPacket ( final DatagramPacket srcDp ) MST[RemoveConditionalMutator_ORDER_IF]MSP[] {
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[PrimitiveReturnsMutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
if ( stratum >= 2 ) { MST[rv.ROR4Mutator]MSP[] return idAsIPAddress () ; } return idAsHex () ; } private String idAsIPAddress () { return ui ( buf [ REFERENCE_ID_INDEX ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 1 ] ) + lr_1 +
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 | MST[rv.AOR1Mutator]MSP[]
public void setPoll ( final int poll ) { buf [ POLL_INDEX ] = (byte) ( poll & 0xFF ) ; } @Override public int getPrecision () { return buf [ PRECISION_INDEX ] ; } @Override public void setPrecision ( final int precision ) MST[rv.OBBN2Mutator]MSP[] {
public void setStratum ( final int stratum ) MST[rv.CRCR4Mutator]MSP[] { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) {
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override MST[rv.UOI3Mutator]MSP[] public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override public String getReferenceIdString () { final int version = getVersion () ; MST[rv.ROR1Mutator]MSP[]
@Override public void setReferenceId ( final int refId ) { setInt ( REFERENCE_ID_INDEX , refId ) ; } @Override public int getReferenceId () { return getInt ( REFERENCE_ID_INDEX ) ; } @Override MST[rv.ROR5Mutator]MSP[] public String getReferenceIdString () { final int version = getVersion () ;
return id . toString () ; } private String idAsHex () { return Integer . toHexString ( getReferenceId () ) ; } @Override MST[rv.CRCR2Mutator]MSP[] public TimeStamp getTransmitTimeStamp () { return getTimestamp ( TRANSMIT_TIMESTAMP_INDEX ) ; } @Override public void setTransmitTime ( final TimeStamp ts ) {
ui ( buf [ REFERENCE_ID_INDEX + 2 ] ) + lr_1 + ui ( buf [ REFERENCE_ID_INDEX + 3 ] ) ; } private String idAsString () { final StringBuilder id = new StringBuilder () ; MST[rv.ABSMutator]MSP[]
@Override public int getMode () { return ( ui ( buf [ MODE_INDEX ] ) >> MODE_SHIFT ) & 0x7 ; } @Override public String getModeName () { return NtpUtils . getModeName ( getMode () ) ; } @Override MST[InlineConstantMutator]MSP[] public void setMode ( final int mode ) {
return new TimeStamp ( getLong ( index ) ) ; } private long getLong ( final int index ) MST[InlineConstantMutator]MSP[] { final long i = ul ( buf [ index ] ) << 56 | ul ( buf [ index + 1 ] ) << 48 |
if ( srcDp == null || srcDp . getLength () < buf . length ) { throw new IllegalArgumentException () ; } final byte [] incomingBuf = srcDp . getData () ; int len = srcDp . getLength () ; if ( len > buf . length ) { MST[rv.CRCR1Mutator]MSP[]
long ntpTime = ( t == null ) ? 0 : t . ntpValue () ; for ( int i = 7 ; i >= 0 ; i -- ) { MST[rv.OBBN1Mutator]MSP[] buf [ index + i ] = (byte) ( ntpTime & 0xFF ) ; ntpTime >>>= 8 ; }
buf [ MODE_INDEX ] = (byte) ( buf [ MODE_INDEX ] & 0xF8 | mode & 0x7 ) ; } @Override public int getLeapIndicator () { return ( ui ( buf [ LI_INDEX ] ) >> LI_SHIFT ) & 0x3 ; } @Override MST[InlineConstantMutator]MSP[]
buf [ PRECISION_INDEX ] = (byte) ( precision & 0xFF ) ; } @Override public int getVersion () MST[rv.UOI1Mutator]MSP[] { return ( ui ( buf [ VERSION_INDEX ] ) >> VERSION_SHIFT ) & 0x7 ; } @Override public void setVersion ( final int version ) {
ul ( buf [ index + 2 ] ) << 40 | ul ( buf [ index + 3 ] ) << 32 | MST[rv.ABSMutator]MSP[] ul ( buf [ index + 4 ] ) << 24 | ul ( buf [ index + 5 ] ) << 16 |
setInt ( ROOT_DELAY_INDEX , delay ) ; } @Override public double getRootDelayInMillisDouble () { final double l = getRootDelay () ; return l / 65.536 ; } @Override public int getRootDispersion () { return getInt ( ROOT_DISPERSION_INDEX ) ; } @Override MST[VoidMethodCallMutator]MSP[] public void setRootDispersion ( final int dispersion ) {
setTimestamp ( RECEIVE_TIMESTAMP_INDEX , ts ) ; } @Override public String getType () { return lr_2 ; } private int getInt ( final int index ) MST[rv.ABSMutator]MSP[] { final int i = ui ( buf [ index ] ) << 24 |
public void setStratum ( final int stratum ) { buf [ STRATUM_INDEX ] = (byte) ( stratum & 0xFF ) ; } @Override public int getRootDelay () { return getInt ( ROOT_DELAY_INDEX ) ; } @Override public void setRootDelay ( final int delay ) MST[rv.UOI4Mutator]MSP[] {
